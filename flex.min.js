!function(t){"use strict";function n(){this.controller=new u.create}function e(t){if(!i(t)&&!r(t))return t;for(var n=0;n<arguments.length;){var e=arguments[n++];for(var o in e)t[o]=e[o]}return t}function i(t){return t&&"object"==typeof t}function r(t){return t&&"function"==typeof t}function o(t){return t&&"string"==typeof t}var c,u,s={};"function"==typeof define&&define.amd?define(["davy","streamlet"],function(t,n){return c=t,u=n,s}):"object"==typeof module&&module.exports?(c=require("davy"),u=require("streamlet"),module.exports=s):(c=t.Davy,u=t.Streamlet,t.Flex=s),s.Promise=c,s.Stream=u,s.createStore=function(t){var i=e(new n,t);return r(t.initialize)&&t.initialize.call(i),i},s.createAction=function(t,n){r(n)||(n=function(t){return t});var i=u.create(!0),o=i.stream,s=function(t){new c(function(n){n(t)}).then(n).then(function(t){i.next(t)},function(t){i.fail(t)})},a={actionName:t,listen:function(){o.listen.apply(o,arguments)}};return e(s,a)},s.createActions=function(t,n){n||(n="");var r={};for(var c in t)if(t.hasOwnProperty(c)){var u=t[c],s=o(u)?u:c,a=n+s;if(i(u)){var f=u.$;delete u.$,r[s]=e(this.createAction(a,f),this.createActions(u,a))}else r[s]=this.createAction(a,u)}return r},s.ListenerMixin={componentWillMount:function(){this.subscriptions=[]},componentWillUnmount:function(){for(var t=0;t<this.subscriptions.length;)this.subscriptions[t++]()},listenTo:function(t,n){this.subscriptions.push(t.listen(n))}},n.prototype.emit=function(t){return this.controller.add(t)},n.prototype.listen=function(t){return this.controller.stream.listen(t)},n.prototype.listenTo=function(t,n,e){var i=this;return t.listen(function(t){r(n)&&n.call(i,t)},function(t){r(e)&&e.call(i,t)})}}(this);
//# sourceMappingURL=flex.min.js.map