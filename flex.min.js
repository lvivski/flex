!function(t){"use strict";function n(){this.controller=new s.create}function e(t){if(!i(t)&&!r(t))return t;for(var n=1;n<arguments.length;++n){var e=arguments[n];for(var o in e)t[o]=e[o]}return t}function i(t){return t&&"object"==typeof t}function r(t){return t&&"function"==typeof t}var o,s,u={};"function"==typeof define&&define.amd?define(["davy","streamlet"],function(t,n){return o=t,s=n,u}):"object"==typeof module&&module.exports?(o=require("davy"),s=require("streamlet"),module.exports=u):(o=t.Davy,s=t.Streamlet,t.Flex=u),u.createStore=function(t){var i=new n;return e(i,t),r(t.initialize)&&t.initialize.call(i),i},u.createAction=function(t){var n=s.create(),i=function(t){n.add(t)},r={actionName:t,listen:function(){n.stream.listen.apply(n.stream,arguments)}};return e(i,r),i},u.createActions=function(t){var n={};for(var e in t)if(t.hasOwnProperty(e)){var r=t[e],o=i(r)?e:r;n[o]=i(r)?this.createActions(r):this.createAction(o)}return n},u.ListenerMixin={componentWillMount:function(){this.subscriptions=[]},componentWillUnmount:function(){for(var t=0;t<this.subscriptions.length;)this.subscriptions[t++]()},listenTo:function(t,n){this.subscriptions.push(t.listen(n))},onEvent:function(t,n,e){this.subscriptions.push(t.on(n,e))}},n.prototype.emit=function(t,n){this.controller.add({eventType:t,payload:n})},n.prototype.on=function(t,n){return r(t)&&!n?this.controller.stream.listen(t):this.controller.stream.filter(function(n){return n.eventType===t}).map(function(t){return t.payload}).listen(n)},n.prototype.listenTo=function(t,n){t.listen(function(t){return function(e){n.call(t,e)}}(this))}}(this);
//# sourceMappingURL=flex.min.js.map